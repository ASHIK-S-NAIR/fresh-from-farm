{"ast":null,"code":"import { API } from \"../backend\";\nexport const getUser = async (userId, token) => {\n  try {\n    const result = await fetch(`${API}/user/${userId}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updateUser = async (body, userId, token) => {\n  try {\n    const result = await fetch(`${API}/user/${userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const changePassword = async (userId, token, body) => {\n  // console.log(\"index oldPassword : \" ,oldPassword);\n  // console.log(\"index newPassword : \" ,newPassword);\n  try {\n    const result = await fetch(`${API}/user/password/${userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const getUserCart = async (userId, token) => {\n  try {\n    const result = await fetch(`${API}/user/cart/${userId}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => res.json()); // console.log(\"result: \", result);\n\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const addToUserCart = (userId, token, body) => {\n  try {\n    const result = fetch(`${API}/user/addtocart/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const updateFromUserCart = (userId, token, _ref) => {\n  let {\n    productId,\n    quantity\n  } = _ref;\n\n  try {\n    const result = fetch(`${API}/user/updatecart/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        productId,\n        quantity\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const deleteFromCart = (userId, token, productId) => {\n  try {\n    const result = fetch(`${API}/user/deletecart/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        productId\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const createOrder = (userId, token, _ref2) => {\n  let {\n    shippingAddress,\n    paymentMode\n  } = _ref2;\n\n  try {\n    const result = fetch(`${API}/order/create/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        shippingAddress,\n        paymentMode\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const razorPayOrder = async body => {\n  try {\n    const result = await fetch(`${API}/order/razorpayorder`, {\n      method: \"POST\",\n      // mode: \"no-cors\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const paymentVerify = async response => {\n  try {\n    const result = await fetch(`${API}/order/verify`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(response)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/user/index.js"],"names":["API","getUser","userId","token","result","fetch","method","headers","Accept","Authorization","then","res","json","error","console","log","updateUser","body","JSON","stringify","changePassword","getUserCart","addToUserCart","updateFromUserCart","productId","quantity","deleteFromCart","createOrder","shippingAddress","paymentMode","razorPayOrder","paymentVerify","response"],"mappings":"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","sourcesContent":["import { API } from \"../backend\";\r\n\r\nexport const getUser = async (userId, token) => {\r\n  try {\r\n    const result = await fetch(`${API}/user/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateUser = async (body, userId, token) => {\r\n  try {\r\n    const result = await fetch(`${API}/user/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const changePassword = async (userId, token, body) => {\r\n  // console.log(\"index oldPassword : \" ,oldPassword);\r\n  // console.log(\"index newPassword : \" ,newPassword);\r\n  try {\r\n    const result = await fetch(`${API}/user/password/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const getUserCart = async (userId, token) => {\r\n  try {\r\n    const result = await fetch(`${API}/user/cart/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then((res) => res.json());\r\n    // console.log(\"result: \", result);\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const addToUserCart = (userId, token, body) => {\r\n  try {\r\n    const result = fetch(`${API}/user/addtocart/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const updateFromUserCart = (userId, token, { productId, quantity }) => {\r\n  try {\r\n    const result = fetch(`${API}/user/updatecart/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ productId, quantity }),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const deleteFromCart = (userId, token, productId) => {\r\n  try {\r\n    const result = fetch(`${API}/user/deletecart/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ productId }),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const createOrder = (\r\n  userId,\r\n  token,\r\n  { shippingAddress, paymentMode }\r\n) => {\r\n  try {\r\n    const result = fetch(`${API}/order/create/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ shippingAddress, paymentMode }),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const razorPayOrder = async (body) => {\r\n  try {\r\n    const result = await fetch(`${API}/order/razorpayorder`, {\r\n      method: \"POST\",\r\n      // mode: \"no-cors\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const paymentVerify = async (response) => {\r\n  try {\r\n    const result = await fetch(`${API}/order/verify`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify(response),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}