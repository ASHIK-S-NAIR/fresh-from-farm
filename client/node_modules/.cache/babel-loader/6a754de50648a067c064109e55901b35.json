{"ast":null,"code":"import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{isAuthenticated}from\"../auth\";import CrossIcon from\"../icons/cross-black.svg\";import{createProduct}from\"../user\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProduct=function AddProduct(_ref){var setAddProductActive=_ref.setAddProductActive;var _useState=useState({pName:\"\",pDescription:\"\",pStock:\"\",pCategory:\"\",pPrice:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];var pName=values.pName,pDescription=values.pDescription,pStock=values.pStock,pCategory=values.pCategory,pPrice=values.pPrice;var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,event.target.value)));};};var handleFileChange=function handleFileChange(e){var file=e.target.files[0];setFile(file);console.log(\"file\",file);};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var formData,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append(\"pImg\",file);formData.append(\"pName\",pName);formData.append(\"pDescription\",pDescription);formData.append(\"pStock\",pStock);formData.append(\"pPrice\",pPrice);formData.append(\"pCategory\",pCategory);_context.prev=8;_context.next=11;return createProduct(user._id,token,formData);case 11:data=_context.sent;if(!data.error){_context.next=16;break;}return _context.abrupt(\"return\",console.log(data.error));case 16:console.log(\"Data\",data);return _context.abrupt(\"return\",setAddProductActive(null));case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](8);return _context.abrupt(\"return\",console.log(_context.t0));case 23:case\"end\":return _context.stop();}}},_callee,null,[[8,20]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"addProduct-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"black-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-big-sec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-head-sec\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"popup-header\",children:\"Add Product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cross-sec\",onClick:function onClick(){return setAddProductActive(null);},children:/*#__PURE__*/_jsx(\"img\",{src:CrossIcon,alt:\"\",className:\"cross-img\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup-form-input\",value:pName,onChange:handleChange(\"pName\")})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Product Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"popup-form-input adminDashPanel-addproduct-textArea\",name:\"popup-form-input\",id:\"popup-form-input\",cols:\"30\",rows:\"10\",value:pDescription,onChange:handleChange(\"pDescription\")})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-triple-group adminDashPanel-addProducts-triple-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"popup-form-input\",value:pPrice,onChange:handleChange(\"pPrice\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Product Stock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"popup-form-input\",value:pStock,onChange:handleChange(\"pStock\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Product Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category\",className:\"popup-form-value\",onChange:handleChange(\"pCategory\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"fruit\",children:\"Select Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fruit\",children:\"Fruit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vegetable\",children:\"Vegetable\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Product Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-input-div adminDashPanel-addProducts-input-div\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"pImg\",accept:\"image/*\",className:\"popup-form-input\",onChange:handleFileChange})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"popup-form-btn\",type:\"submit\",children:\"Add Product\"})})})]})]})})})});};export default AddProduct;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/admin/AddProduct.js"],"names":["React","useState","isAuthenticated","CrossIcon","createProduct","AddProduct","setAddProductActive","pName","pDescription","pStock","pCategory","pPrice","values","setValues","file","setFile","user","token","handleChange","name","event","target","value","handleFileChange","e","files","console","log","onSubmit","preventDefault","formData","FormData","append","_id","data","error"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport CrossIcon from \"../icons/cross-black.svg\";\r\nimport { createProduct } from \"../user\";\r\n\r\nconst AddProduct = ({ setAddProductActive }) => {\r\n  const [values, setValues] = useState({\r\n    pName: \"\",\r\n    pDescription: \"\",\r\n    pStock: \"\",\r\n    pCategory:\"\",\r\n    pPrice: \"\",\r\n  });\r\n\r\n  const [file, setFile] = useState();\r\n\r\n  const { pName, pDescription, pStock, pCategory, pPrice } = values;\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, [name]: event.target.value });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setFile(file);\r\n    console.log(\"file\", file);\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"pImg\", file);\r\n    formData.append(\"pName\", pName);\r\n    formData.append(\"pDescription\", pDescription);\r\n    formData.append(\"pStock\", pStock);\r\n    formData.append(\"pPrice\", pPrice);\r\n    formData.append(\"pCategory\", pCategory);\r\n    try {\r\n      const data = await createProduct(user._id, token, formData);\r\n\r\n      if (data.error) {\r\n        return console.log(data.error);\r\n      } else {\r\n        console.log(\"Data\", data);\r\n        return setAddProductActive(null);\r\n      }\r\n    } catch (error) {\r\n      return console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"addProduct-section\">\r\n      <div className=\"black-background\">\r\n        <div className=\"popup-big-sec\">\r\n          <div className=\"popup-group\">\r\n            <div className=\"popup-head-sec\">\r\n              <h1 className=\"popup-header\">Add Product</h1>\r\n              <div\r\n                className=\"cross-sec\"\r\n                onClick={() => setAddProductActive(null)}\r\n              >\r\n                <img src={CrossIcon} alt=\"\" className=\"cross-img\" />\r\n              </div>\r\n            </div>\r\n\r\n            <form\r\n              className=\"popup-form\"\r\n              onSubmit={onSubmit}\r\n            >\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Product Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"popup-form-input\"\r\n                    value={pName}\r\n                    onChange={handleChange(\"pName\")}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">\r\n                    Product Description\r\n                  </label>\r\n                  <textarea\r\n                    className=\"popup-form-input adminDashPanel-addproduct-textArea\"\r\n                    name=\"popup-form-input\"\r\n                    id=\"popup-form-input\"\r\n                    cols=\"30\"\r\n                    rows=\"10\"\r\n                    value={pDescription}\r\n                    onChange={handleChange(\"pDescription\")}\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-triple-group adminDashPanel-addProducts-triple-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Product Price</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"popup-form-input\"\r\n                    value={pPrice}\r\n                    onChange={handleChange(\"pPrice\")}\r\n                  />\r\n                </div>\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Product Stock</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"popup-form-input\"\r\n                    value={pStock}\r\n                    onChange={handleChange(\"pStock\")}\r\n                  />\r\n                </div>\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Product Category</label>\r\n                  <select\r\n                    name=\"category\"\r\n                    id=\"category\"\r\n                    className=\"popup-form-value\"\r\n                    onChange={handleChange(\"pCategory\")}\r\n                  >\r\n                    <option value=\"fruit\">Select Category</option>\r\n                    <option value=\"fruit\">Fruit</option>\r\n                    <option value=\"vegetable\">Vegetable</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Product Image</label>\r\n                  <div className=\"popup-form-input-div adminDashPanel-addProducts-input-div\">\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"pImg\"\r\n                      accept=\"image/*\"\r\n                      className=\"popup-form-input\"\r\n                      onChange={handleFileChange}\r\n                    />\r\n                    {/* <button type=\"submit\" className=\"popup-form-input-btn\">\r\n                      Choose File\r\n                    </button> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <button\r\n                    className=\"popup-form-btn\"\r\n                    type=\"submit\"\r\n                  \r\n                  >\r\n                    Add Product\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* {error && errorMessage()} */}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"]},"metadata":{},"sourceType":"module"}