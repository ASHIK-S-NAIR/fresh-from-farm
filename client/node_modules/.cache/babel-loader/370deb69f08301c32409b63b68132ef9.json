{"ast":null,"code":"import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{getUser}from\"./index\";import{isAuthenticated}from\"../auth\";import Cross from\"../icons/cross-black.svg\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(_ref){var setOrderActive=_ref.setOrderActive,order=_ref.order;var _useState=useState(),_useState2=_slicedToArray(_useState,2),userDetails=_useState2[0],setUserDetails=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var loadUserDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId,token){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUser(userId,token);case 3:data=_context.sent;if(!data.error){_context.next=8;break;}return _context.abrupt(\"return\",console.log(data.error));case 8:return _context.abrupt(\"return\",setUserDetails(data));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",console.log(_context.t0));case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function loadUserDetails(_x,_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){loadUserDetails(user._id,token);},[]);return/*#__PURE__*/_jsx(\"section\",{className:\"orderDetails-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"black-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-big-sec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-head-sec\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"popup-header orderDetails-popup-header\",children:[\"Order #\",order._id]}),/*#__PURE__*/_jsx(\"div\",{className:\"cross-sec\",onClick:function onClick(){return setOrderActive(null);},children:/*#__PURE__*/_jsx(\"img\",{src:Cross,alt:\"\",className:\"cross-img\"})})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"popup-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"popup-table-head-sec\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"popup-table-head-value\",children:\"Products\"}),/*#__PURE__*/_jsx(\"th\",{className:\"popup-table-head-value\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"popup-table-head-value\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"popup-table-head-value\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"popup-table-head-value popup-table-head-value-amount\",children:\"Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"popup-table-body-sec\",children:order.Oproducts.map(function(product,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"popup-table-body-value popup-table-body-value-name\",children:[product.pName,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:product.pDescription})]}),/*#__PURE__*/_jsx(\"td\",{className:\"popup-table-body-value\",children:product.pCategory}),/*#__PURE__*/_jsxs(\"td\",{className:\"popup-table-body-value\",children:[product.pQuantity,\" Kg\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"popup-table-body-value\",children:product.pPrice}),/*#__PURE__*/_jsx(\"td\",{className:\"popup-table-body-value popup-table-body-value-amount\",children:product.pAmount})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group orderDetails-total-sec\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"popup-form-label\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" Total :\"}),\" \",order.OtotalPrice]})}),userDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-double-group orderDetails-info-sec\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-subsec\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-label orderDetails-info-label\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"orderDetails-info-value\",children:order._id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-subsec\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-label orderDetails-info-label\",children:\"Order Status\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.Ostatus]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-subsec\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-label orderDetails-info-label\",children:\"Payment Mode\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.OpaymentMode]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-subsec\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-label orderDetails-info-label\",children:\"Delivery By\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.OEmployeeId||\"Not Assigned\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-subsec\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-label orderDetails-info-label\",children:\"Ordered By\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.Ouser.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.Ouser.phoneNumber]}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.Ouser.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetails-info-subsec\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-label orderDetails-info-label\",children:\"Delivery Address\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.Oaddress.houseName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"orderDetails-info-value\",children:[\" \",order.Oaddress.streetName]})]})]})]})]})})})});};export default OrderDetails;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/user/OrderDetails.js"],"names":["React","useState","useEffect","getUser","isAuthenticated","Cross","OrderDetails","setOrderActive","order","userDetails","setUserDetails","user","token","loadUserDetails","userId","data","error","console","log","_id","Oproducts","map","product","index","pName","pDescription","pCategory","pQuantity","pPrice","pAmount","OtotalPrice","Ostatus","OpaymentMode","OEmployeeId","Ouser","name","phoneNumber","email","Oaddress","houseName","streetName"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,SAAxB,CACA,OAASC,eAAT,KAAgC,SAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAA+B,IAA5BC,CAAAA,cAA4B,MAA5BA,cAA4B,CAAZC,KAAY,MAAZA,KAAY,CAClD,cAAsCP,QAAQ,EAA9C,wCAAOQ,WAAP,eAAoBC,cAApB,eACA,qBAAwBN,eAAe,EAAvC,CAAQO,IAAR,kBAAQA,IAAR,CAAcC,KAAd,kBAAcA,KAAd,CAEA,GAAMC,CAAAA,eAAe,2FAAG,iBAAOC,MAAP,CAAeF,KAAf,iKAEDT,CAAAA,OAAO,CAACW,MAAD,CAASF,KAAT,CAFN,QAEdG,IAFc,mBAGhBA,IAAI,CAACC,KAHW,yDAIXC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,CAJW,yCAMXN,cAAc,CAACK,IAAD,CANH,0HASbE,OAAO,CAACC,GAAR,aATa,uEAAH,kBAAfL,CAAAA,eAAe,iDAArB,CAaAX,SAAS,CAAC,UAAM,CACdW,eAAe,CAACF,IAAI,CAACQ,GAAN,CAAWP,KAAX,CAAf,CACD,CAFQ,CAEN,EAFM,CAAT,CAGA,mBACE,gBAAS,SAAS,CAAC,sBAAnB,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,YAAK,SAAS,CAAC,eAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAI,SAAS,CAAC,wCAAd,qBACUJ,KAAK,CAACW,GADhB,GADF,cAIE,YAAK,SAAS,CAAC,WAAf,CAA2B,OAAO,CAAE,yBAAMZ,CAAAA,cAAc,CAAC,IAAD,CAApB,EAApC,uBACE,YAAK,GAAG,CAAEF,KAAV,CAAiB,GAAG,CAAC,EAArB,CAAwB,SAAS,CAAC,WAAlC,EADF,EAJF,GADF,cASE,eAAO,SAAS,CAAC,aAAjB,wBACE,cAAO,SAAS,CAAC,sBAAjB,uBACE,mCACE,WAAI,SAAS,CAAC,wBAAd,sBADF,cAEE,WAAI,SAAS,CAAC,wBAAd,sBAFF,cAGE,WAAI,SAAS,CAAC,wBAAd,sBAHF,cAIE,WAAI,SAAS,CAAC,wBAAd,mBAJF,cAKE,WAAI,SAAS,CAAC,sDAAd,oBALF,GADF,EADF,cAYE,cAAO,SAAS,CAAC,sBAAjB,UACGG,KAAK,CAACY,SAAN,CAAgBC,GAAhB,CAAoB,SAACC,OAAD,CAAUC,KAAV,CAAoB,CACvC,mBACE,mCACE,YAAI,SAAS,CAAC,oDAAd,WACGD,OAAO,CAACE,KADX,cAEE,aAFF,cAGE,sBAAOF,OAAO,CAACG,YAAf,EAHF,GADF,cAME,WAAI,SAAS,CAAC,wBAAd,UACGH,OAAO,CAACI,SADX,EANF,cASE,YAAI,SAAS,CAAC,wBAAd,WACGJ,OAAO,CAACK,SADX,SATF,cAYE,WAAI,SAAS,CAAC,wBAAd,UACGL,OAAO,CAACM,MADX,EAZF,cAeE,WAAI,SAAS,CAAC,sDAAd,UACGN,OAAO,CAACO,OADX,EAfF,GAASN,KAAT,CADF,CAqBD,CAtBA,CADH,EAZF,GATF,cA+CE,YAAK,SAAS,CAAC,gDAAf,uBACE,WAAG,SAAS,CAAC,kBAAb,wBACE,kCADF,KACyBf,KAAK,CAACsB,WAD/B,GADF,EA/CF,CAoDGrB,WAAW,eACV,aAAK,SAAS,CAAC,+CAAf,wBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,UAAG,SAAS,CAAC,0CAAb,sBADF,cAIE,UAAG,SAAS,CAAC,yBAAb,UAAwCD,KAAK,CAACW,GAA9C,EAJF,GADF,cAOE,aAAK,SAAS,CAAC,0BAAf,wBACE,UAAG,SAAS,CAAC,0CAAb,0BADF,cAIE,WAAG,SAAS,CAAC,yBAAb,eAAyCX,KAAK,CAACuB,OAA/C,GAJF,GAPF,cAaE,aAAK,SAAS,CAAC,0BAAf,wBACE,UAAG,SAAS,CAAC,0CAAb,0BADF,cAIE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEGvB,KAAK,CAACwB,YAFT,GAJF,GAbF,cAsBE,aAAK,SAAS,CAAC,0BAAf,wBACE,UAAG,SAAS,CAAC,0CAAb,yBADF,cAIE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEGxB,KAAK,CAACyB,WAAN,EAAqB,cAFxB,GAJF,GAtBF,GADF,cAiCE,aAAK,SAAS,CAAC,yBAAf,wBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,UAAG,SAAS,CAAC,0CAAb,wBADF,cAIE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEGzB,KAAK,CAAC0B,KAAN,CAAYC,IAFf,GAJF,cASE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEG3B,KAAK,CAAC0B,KAAN,CAAYE,WAFf,GATF,cAcE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEG5B,KAAK,CAAC0B,KAAN,CAAYG,KAFf,GAdF,GADF,cAoBE,aAAK,SAAS,CAAC,0BAAf,wBACE,UAAG,SAAS,CAAC,0CAAb,8BADF,cAIE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEG7B,KAAK,CAAC8B,QAAN,CAAeC,SAFlB,GAJF,cAQE,WAAG,SAAS,CAAC,yBAAb,WACG,GADH,CAEG/B,KAAK,CAAC8B,QAAN,CAAeE,UAFlB,GARF,GApBF,GAjCF,GArDJ,GADF,EADF,EADF,EADF,CAmID,CAvJD,CAyJA,cAAelC,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getUser } from \"./index\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Cross from \"../icons/cross-black.svg\";\r\n\r\nconst OrderDetails = ({ setOrderActive, order }) => {\r\n  const [userDetails, setUserDetails] = useState();\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadUserDetails = async (userId, token) => {\r\n    try {\r\n      const data = await getUser(userId, token);\r\n      if (data.error) {\r\n        return console.log(data.error);\r\n      } else {\r\n        return setUserDetails(data);\r\n      }\r\n    } catch (error) {\r\n      return console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUserDetails(user._id, token);\r\n  }, []);\r\n  return (\r\n    <section className=\"orderDetails-section\">\r\n      <div className=\"black-background\">\r\n        <div className=\"popup-big-sec\">\r\n          <div className=\"popup-group\">\r\n            <div className=\"popup-head-sec\">\r\n              <h1 className=\"popup-header orderDetails-popup-header\">\r\n                Order #{order._id}\r\n              </h1>\r\n              <div className=\"cross-sec\" onClick={() => setOrderActive(null)}>\r\n                <img src={Cross} alt=\"\" className=\"cross-img\" />\r\n              </div>\r\n            </div>\r\n            <table className=\"popup-table\">\r\n              <thead className=\"popup-table-head-sec\">\r\n                <tr>\r\n                  <th className=\"popup-table-head-value\">Products</th>\r\n                  <th className=\"popup-table-head-value\">Category</th>\r\n                  <th className=\"popup-table-head-value\">Quantity</th>\r\n                  <th className=\"popup-table-head-value\">Price</th>\r\n                  <th className=\"popup-table-head-value popup-table-head-value-amount\">\r\n                    Amount\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"popup-table-body-sec\">\r\n                {order.Oproducts.map((product, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n                      <td className=\"popup-table-body-value popup-table-body-value-name\">\r\n                        {product.pName}\r\n                        <br />\r\n                        <span>{product.pDescription}</span>\r\n                      </td>\r\n                      <td className=\"popup-table-body-value\">\r\n                        {product.pCategory}\r\n                      </td>\r\n                      <td className=\"popup-table-body-value\">\r\n                        {product.pQuantity} Kg\r\n                      </td>\r\n                      <td className=\"popup-table-body-value\">\r\n                        {product.pPrice}\r\n                      </td>\r\n                      <td className=\"popup-table-body-value popup-table-body-value-amount\">\r\n                        {product.pAmount}\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n            <div className=\"popup-form-single-group orderDetails-total-sec\">\r\n              <p className=\"popup-form-label\">\r\n                <span> Total :</span> {order.OtotalPrice}\r\n              </p>\r\n            </div>\r\n            {userDetails && (\r\n              <div className=\"popup-form-double-group orderDetails-info-sec\">\r\n                <div className=\"orderDetails-info-left\">\r\n                  <div className=\"orderDetails-info-subsec\">\r\n                    <p className=\"popup-form-label orderDetails-info-label\">\r\n                      Order ID\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\">{order._id}</p>\r\n                  </div>\r\n                  <div className=\"orderDetails-info-subsec\">\r\n                    <p className=\"popup-form-label orderDetails-info-label\">\r\n                      Order Status\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\"> {order.Ostatus}</p>\r\n                  </div>\r\n                  <div className=\"orderDetails-info-subsec\">\r\n                    <p className=\"popup-form-label orderDetails-info-label\">\r\n                      Payment Mode\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.OpaymentMode}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"orderDetails-info-subsec\">\r\n                    <p className=\"popup-form-label orderDetails-info-label\">\r\n                      Delivery By\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.OEmployeeId || \"Not Assigned\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"orderDetails-info-right\">\r\n                  <div className=\"orderDetails-info-subsec\">\r\n                    <p className=\"popup-form-label orderDetails-info-label\">\r\n                      Ordered By\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.Ouser.name}\r\n                    </p>\r\n\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.Ouser.phoneNumber}\r\n                    </p>\r\n\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.Ouser.email}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"orderDetails-info-subsec\">\r\n                    <p className=\"popup-form-label orderDetails-info-label\">\r\n                      Delivery Address\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.Oaddress.houseName}\r\n                    </p>\r\n                    <p className=\"orderDetails-info-value\">\r\n                      {\" \"}\r\n                      {order.Oaddress.streetName}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default OrderDetails;\r\n"]},"metadata":{},"sourceType":"module"}