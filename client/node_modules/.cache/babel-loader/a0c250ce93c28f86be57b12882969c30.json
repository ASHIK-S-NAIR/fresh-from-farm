{"ast":null,"code":"import _objectSpread from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{useParams,Link}from\"react-router-dom\";import{isAuthenticated}from\"../auth\";import Dashboard from\"../employee/Dashboard\";import Deliveries from\"../employee/Deliveries\";import{getUser}from\"../user\";import Profile from\"../icons/profile.svg\";import Accounts from\"./Accounts\";import Settings from\"./Settings\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmployeeBoard=function EmployeeBoard(){var _useParams=useParams(),currentTab=_useParams.currentTab,userId=_useParams.userId;var _useState=useState(currentTab),_useState2=_slicedToArray(_useState,2),tabActive=_useState2[0],setTabActive=_useState2[1];var _useState3=useState({name:\"\",email:\"\",phone:\"\",houseName:\"\",streetName:\"\"}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var name=values.name;var _isAuthenticated=isAuthenticated(),token=_isAuthenticated.token,user=_isAuthenticated.user;var preLoad=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId,token){var userDetails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUser(userId,token);case 3:userDetails=_context.sent;return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{name:userDetails.name,email:userDetails.email,phoneNumber:userDetails.phoneNumber,houseName:userDetails.address.houseName,streetName:userDetails.address.streetName})));case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function preLoad(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){setTabActive(currentTab);preLoad(userId,token);},[currentTab]);return/*#__PURE__*/_jsx(\"section\",{className:\"userBoard-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrap userBoard-wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-user-detail\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"userBoard-user-detail-image\",src:Profile,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-user-detail-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-user-detail-greetings\",children:\"Hello\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-user-detail-sec\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"userBoard-user-detail-name\",children:name.length>6?name.substring(0,6):name}),/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-user-detail-role\",children:\"(Employee)\"})]})]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"userBoard-left-ul\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"userBoard-left-li\",children:/*#__PURE__*/_jsxs(Link,{to:\"/employeeboard/dashboard/\".concat(user._id),className:\"userBoard-left-link\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-left-tag \".concat(tabActive===\"dashboard\"?\"active\":\"\"),children:\"Dashboard\"}),\" \"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"userBoard-left-li\",children:/*#__PURE__*/_jsxs(Link,{to:\"/employeeboard/deliveries/\".concat(user._id),className:\"userBoard-left-link\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-left-tag \".concat(tabActive===\"deliveries\"?\"active\":\"\"),children:\"Deliveries\"}),\" \"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"userBoard-left-li\",children:/*#__PURE__*/_jsx(Link,{to:\"/employeeboard/accounts/\".concat(user._id),className:\"userBoard-left-link\",children:/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-left-tag \".concat(tabActive===\"accounts\"?\"active\":\"\"),children:\"My Accounts\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"userBoard-left-li\",children:/*#__PURE__*/_jsx(Link,{to:\"/employeeboard/settings/\".concat(user._id),className:\"userBoard-left-link\",children:/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-left-tag \".concat(tabActive===\"settings\"?\"active\":\"\"),children:\"My Settings\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right\",children:[tabActive===\"dashboard\"&&/*#__PURE__*/_jsx(Dashboard,{}),tabActive===\"deliveries\"&&/*#__PURE__*/_jsx(Deliveries,{}),tabActive===\"accounts\"&&/*#__PURE__*/_jsx(Accounts,{userValues:values}),tabActive===\"settings\"&&/*#__PURE__*/_jsx(Settings,{userValues:values})]})]})});};export default EmployeeBoard;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/core/EmployeeBoard..js"],"names":["React","useState","useEffect","useParams","Link","isAuthenticated","Dashboard","Deliveries","getUser","Profile","Accounts","Settings","EmployeeBoard","currentTab","userId","tabActive","setTabActive","name","email","phone","houseName","streetName","values","setValues","token","user","preLoad","userDetails","phoneNumber","address","console","log","length","substring","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Dashboard from \"../employee/Dashboard\";\r\nimport Deliveries from \"../employee/Deliveries\";\r\nimport { getUser } from \"../user\";\r\nimport Profile from \"../icons/profile.svg\";\r\nimport Accounts from \"./Accounts\";\r\nimport Settings from \"./Settings\";\r\n\r\nconst EmployeeBoard = () => {\r\n  const { currentTab, userId } = useParams();\r\n  const [tabActive, setTabActive] = useState(currentTab);\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    houseName: \"\",\r\n    streetName: \"\",\r\n  });\r\n\r\n  const { name } = values;\r\n  const { token, user } = isAuthenticated();\r\n\r\n  const preLoad = async (userId, token) => {\r\n    try {\r\n      const userDetails = await getUser(userId, token);\r\n\r\n      return setValues({\r\n        ...values,\r\n        name: userDetails.name,\r\n        email: userDetails.email,\r\n        phoneNumber: userDetails.phoneNumber,\r\n        houseName: userDetails.address.houseName,\r\n        streetName: userDetails.address.streetName,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTabActive(currentTab);\r\n    preLoad(userId, token);\r\n  }, [currentTab]);\r\n\r\n  return (\r\n    <section className=\"userBoard-section\">\r\n      <div className=\"wrap userBoard-wrap\">\r\n        <div className=\"userBoard-left\">\r\n          <div className=\"userBoard-user-detail\">\r\n          <img className=\"userBoard-user-detail-image\" src={Profile} alt=\"\" />\r\n            <div className=\"userBoard-user-detail-info\">\r\n              <p className=\"userBoard-user-detail-greetings\">Hello</p>\r\n              <div className=\"userBoard-user-detail-sec\">\r\n                <h3 className=\"userBoard-user-detail-name\">\r\n                  {name.length > 6 ? name.substring(0, 6) : name}\r\n                </h3>\r\n\r\n                <p className=\"userBoard-user-detail-role\">(Employee)</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ul className=\"userBoard-left-ul\">\r\n            <li className=\"userBoard-left-li\">\r\n              <Link\r\n                to={`/employeeboard/dashboard/${user._id}`}\r\n                className=\"userBoard-left-link\"\r\n              >\r\n                {\" \"}\r\n                <div\r\n                  className={`userBoard-left-tag ${\r\n                    tabActive === \"dashboard\" ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  Dashboard\r\n                </div>{\" \"}\r\n              </Link>\r\n            </li>\r\n            <li className=\"userBoard-left-li\">\r\n              <Link\r\n                to={`/employeeboard/deliveries/${user._id}`}\r\n                className=\"userBoard-left-link\"\r\n              >\r\n                {\" \"}\r\n                <div\r\n                  className={`userBoard-left-tag ${\r\n                    tabActive === \"deliveries\" ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  Deliveries\r\n                </div>{\" \"}\r\n              </Link>\r\n            </li>\r\n            <li className=\"userBoard-left-li\">\r\n              <Link\r\n                to={`/employeeboard/accounts/${user._id}`}\r\n                className=\"userBoard-left-link\"\r\n              >\r\n                <div\r\n                  className={`userBoard-left-tag ${\r\n                    tabActive === \"accounts\" ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  My Accounts\r\n                </div>\r\n              </Link>\r\n            </li>\r\n            <li className=\"userBoard-left-li\">\r\n              <Link\r\n                to={`/employeeboard/settings/${user._id}`}\r\n                className=\"userBoard-left-link\"\r\n              >\r\n                <div\r\n                  className={`userBoard-left-tag ${\r\n                    tabActive === \"settings\" ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  My Settings\r\n                </div>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"userBoard-right\">\r\n          {tabActive === \"dashboard\" && <Dashboard />}\r\n          {tabActive === \"deliveries\" && <Deliveries />}\r\n          {tabActive === \"accounts\" && <Accounts userValues={values} />}\r\n          {tabActive === \"settings\" && <Settings userValues={values} />}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default EmployeeBoard;\r\n"]},"metadata":{},"sourceType":"module"}