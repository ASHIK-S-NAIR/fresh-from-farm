{"ast":null,"code":"import _objectSpread from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{AccountsContext}from\"../context/Context\";import EditIcon from\"../icons/Edit.svg\";import EditPersonalInformation from\"./EditPersonalInformation\";import EditAddress from\"./EditAddress\";import{getUser}from\"../user\";import{isAuthenticated}from\"../auth\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Accounts=function Accounts(){var _useParams=useParams(),userId=_useParams.userId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),accountsActive=_useState2[0],setAccountsActive=_useState2[1];var _useState3=useState({name:\"\",email:\"\",phoneNumber:\"\",houseName:\"\",streetName:\"\"}),_useState4=_slicedToArray(_useState3,2),values=_useState4[0],setValues=_useState4[1];var name=values.name,email=values.email,phoneNumber=values.phoneNumber,houseName=values.houseName,streetName=values.streetName;var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var preLoad=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId,token){var userDetails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUser(userId,token);case 3:userDetails=_context.sent;return _context.abrupt(\"return\",setValues(_objectSpread(_objectSpread({},values),{},{name:userDetails.name,email:userDetails.email,phoneNumber:userDetails.phoneNumber,houseName:userDetails.address.houseName,streetName:userDetails.address.streetName})));case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function preLoad(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){preLoad(userId,token);},[accountsActive]);return/*#__PURE__*/_jsx(\"section\",{className:\"userBoard-right-section accounts-section\",children:/*#__PURE__*/_jsxs(AccountsContext.Provider,{value:{accountsActive:accountsActive,setAccountsActive:setAccountsActive},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"userBoard-right-header\",children:\"Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-right-subSec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-subSec-small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-subHead\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"userBoard-subHeader\",children:\"Personal Information\"}),/*#__PURE__*/_jsx(\"img\",{src:EditIcon,alt:\"\",className:\"userBoard-icon\",onClick:function onClick(){return setAccountsActive(\"editpersonalinformation\");}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-subInner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-right-single-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"userBoard-right-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-right-value\",children:email})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-double-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"userBoard-right-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-right-value\",children:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"userBoard-right-label\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-right-value\",children:phoneNumber})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-right-subSec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-subSec-small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-subHead\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-subHeader\",children:\"Address\"}),/*#__PURE__*/_jsx(\"img\",{src:EditIcon,alt:\"\",className:\"userBoard-icon\",onClick:function onClick(){return setAccountsActive(\"editaddress\");}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"userBoard-right-subInner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-double-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"userBoard-right-label\",children:\"House Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-right-value\",children:houseName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userBoard-right-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"userBoard-right-label\",children:\"Street\"}),/*#__PURE__*/_jsx(\"p\",{className:\"userBoard-right-value\",children:streetName})]})]})})]})}),accountsActive===\"editpersonalinformation\"&&/*#__PURE__*/_jsx(EditPersonalInformation,{}),accountsActive===\"editaddress\"&&/*#__PURE__*/_jsx(EditAddress,{})]})});};export default Accounts;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/core/Accounts.js"],"names":["React","useState","useEffect","AccountsContext","EditIcon","EditPersonalInformation","EditAddress","getUser","isAuthenticated","useParams","Accounts","userId","accountsActive","setAccountsActive","name","email","phoneNumber","houseName","streetName","values","setValues","user","token","preLoad","userDetails","address","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { AccountsContext } from \"../context/Context\";\r\nimport EditIcon from \"../icons/Edit.svg\";\r\nimport EditPersonalInformation from \"./EditPersonalInformation\";\r\nimport EditAddress from \"./EditAddress\";\r\nimport { getUser } from \"../user\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Accounts = () => {\r\n  const { userId } = useParams();\r\n\r\n  const [accountsActive, setAccountsActive] = useState(null);\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phoneNumber: \"\",\r\n    houseName: \"\",\r\n    streetName: \"\",\r\n  });\r\n\r\n  const { name, email, phoneNumber, houseName, streetName } = values;\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preLoad = async (userId, token) => {\r\n    try {\r\n      const userDetails = await getUser(userId, token);\r\n\r\n      return setValues({\r\n        ...values,\r\n        name: userDetails.name,\r\n        email: userDetails.email,\r\n        phoneNumber: userDetails.phoneNumber,\r\n        houseName: userDetails.address.houseName,\r\n        streetName: userDetails.address.streetName,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    preLoad(userId, token);\r\n  }, [accountsActive]);\r\n\r\n  return (\r\n    <section className=\"userBoard-right-section accounts-section\">\r\n      <AccountsContext.Provider value={{ accountsActive, setAccountsActive }}>\r\n        <h1 className=\"userBoard-right-header\">Account</h1>\r\n        <div className=\"userBoard-right-subSec\">\r\n          <div className=\"userBoard-right-subSec-small\">\r\n            <div className=\"userBoard-right-subHead\">\r\n              <h2 className=\"userBoard-subHeader\">Personal Information</h2>\r\n              <img\r\n                src={EditIcon}\r\n                alt=\"\"\r\n                className=\"userBoard-icon\"\r\n                onClick={() => setAccountsActive(\"editpersonalinformation\")}\r\n              />\r\n            </div>\r\n            <div className=\"userBoard-right-subInner\">\r\n              <div className=\"userBoard-right-single-group\">\r\n                <div className=\"userBoard-right-group\">\r\n                  <label className=\"userBoard-right-label\">Email</label>\r\n                  <p className=\"userBoard-right-value\">{email}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"userBoard-right-double-group\">\r\n                <div className=\"userBoard-right-group\">\r\n                  <label className=\"userBoard-right-label\">Name</label>\r\n                  <p className=\"userBoard-right-value\">{name}</p>\r\n                </div>\r\n                <div className=\"userBoard-right-group\">\r\n                  <label className=\"userBoard-right-label\">Phone</label>\r\n                  <p className=\"userBoard-right-value\">{phoneNumber}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"userBoard-right-subSec\">\r\n          <div className=\"userBoard-right-subSec-small\">\r\n            <div className=\"userBoard-right-subHead\">\r\n              <div className=\"userBoard-subHeader\">Address</div>\r\n              <img\r\n                src={EditIcon}\r\n                alt=\"\"\r\n                className=\"userBoard-icon\"\r\n                onClick={() => setAccountsActive(\"editaddress\")}\r\n              />\r\n            </div>\r\n            <div className=\"userBoard-right-subInner\">\r\n              <div className=\"userBoard-right-double-group\">\r\n                <div className=\"userBoard-right-group\">\r\n                  <label className=\"userBoard-right-label\">House Name</label>\r\n                  <p className=\"userBoard-right-value\">{houseName}</p>\r\n                </div>\r\n                <div className=\"userBoard-right-group\">\r\n                  <label className=\"userBoard-right-label\">Street</label>\r\n                  <p className=\"userBoard-right-value\">{streetName}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {accountsActive === \"editpersonalinformation\" && (\r\n          <EditPersonalInformation />\r\n        )}\r\n        {accountsActive === \"editaddress\" && <EditAddress />}\r\n      </AccountsContext.Provider>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Accounts;\r\n"]},"metadata":{},"sourceType":"module"}