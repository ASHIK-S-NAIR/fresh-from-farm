{"ast":null,"code":"import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{isAuthenticated}from\"../auth\";import Cross from\"../icons/cross-black.svg\";import{employeeUpdateOrderStatus}from\"../user\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderUpdate=function OrderUpdate(_ref){var setOrderUpdateActive=_ref.setOrderUpdateActive,order=_ref.order;var _useState=useState(order.Ostatus),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var loadOptions=function loadOptions(orderStatus){if(orderStatus===\"Not-Confirmed\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Not-Confirmed\",children:\"Not-Confirmed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ordered\",children:\"Ordered\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]});}if(orderStatus===\"Ordered\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Ordered\",children:\"Ordered\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]});}if(orderStatus===\"Processing\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Picking-Up\",children:\"Picking-Up\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]});}if(orderStatus===\"Picking-Up\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Picking-Up\",children:\"Picking-Up\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Out-For-Delivery\",children:\"Out-For-Delivery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]});}if(orderStatus===\"Out-For-Delivery\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Out-For-Delivery\",children:\"Out-For-Delivery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Delivered\",children:\"Delivered\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]});}if(orderStatus===\"Delivered\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"Delivered\",children:\"Delivered\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]});}};var handleUpdate=function handleUpdate(userId,token,orderId,status){try{var data=employeeUpdateOrderStatus(userId,token,orderId,status);if(data.error){return console.log(data.error);}else{return setOrderUpdateActive(\"\");}}catch(error){return console.log(error);}};return/*#__PURE__*/_jsx(\"section\",{className:\"orderUpdate-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"black-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-small-sec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-head-sec\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"popup-header orderUpdate-popup-header\",children:\"Update Order Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cross-sec\",onClick:function onClick(){return setOrderUpdateActive(null);},children:/*#__PURE__*/_jsx(\"img\",{src:Cross,alt:\"\",className:\"cross-img\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"popup-form-value\",children:order._id})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"popup-form-label\",children:\"Order Status\"}),/*#__PURE__*/_jsx(\"select\",{name:\"orderStatus\",id:\"orderStatus\",value:status,onChange:function onChange(e){return setStatus(e.target.value);},className:\"popup-form-value\",children:loadOptions(order.Ostatus)})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-form-btn \".concat(status===order.Ostatus?\"button-unclickable\":\"\"),onClick:function onClick(){return handleUpdate(user._id,token,order._id,status);},children:\"Update\"})]})]})})})});};export default OrderUpdate;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/employee/OrderUpdate.js"],"names":["React","useState","isAuthenticated","Cross","employeeUpdateOrderStatus","OrderUpdate","setOrderUpdateActive","order","Ostatus","status","setStatus","user","token","loadOptions","orderStatus","handleUpdate","userId","orderId","data","error","console","log","_id","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Cross from \"../icons/cross-black.svg\";\r\nimport { employeeUpdateOrderStatus } from \"../user\";\r\n\r\nconst OrderUpdate = ({ setOrderUpdateActive, order }) => {\r\n  const [status, setStatus] = useState(order.Ostatus);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadOptions = (orderStatus) => {\r\n    if (orderStatus === \"Not-Confirmed\") {\r\n      return (\r\n        <>\r\n          <option value=\"Not-Confirmed\">Not-Confirmed</option>\r\n          <option value=\"Ordered\">Ordered</option>\r\n          <option value=\"Cancelled\">Cancelled</option>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (orderStatus === \"Ordered\") {\r\n      return (\r\n        <>\r\n          <option value=\"Ordered\">Ordered</option>\r\n          <option value=\"Cancelled\">Cancelled</option>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (orderStatus === \"Processing\") {\r\n      return (\r\n        <>\r\n          <option value=\"Processing\">Processing</option>\r\n          <option value=\"Picking-Up\">Picking-Up</option>\r\n          <option value=\"Cancelled\">Cancelled</option>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (orderStatus === \"Picking-Up\") {\r\n      return (\r\n        <>\r\n          <option value=\"Picking-Up\">Picking-Up</option>\r\n          <option value=\"Out-For-Delivery\">Out-For-Delivery</option>\r\n          <option value=\"Cancelled\">Cancelled</option>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (orderStatus === \"Out-For-Delivery\") {\r\n      return (\r\n        <>\r\n          <option value=\"Out-For-Delivery\">Out-For-Delivery</option>\r\n          <option value=\"Delivered\">Delivered</option>\r\n          <option value=\"Cancelled\">Cancelled</option>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (orderStatus === \"Delivered\") {\r\n      return (\r\n        <>\r\n          <option value=\"Delivered\">Delivered</option>\r\n          <option value=\"Cancelled\">Cancelled</option>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleUpdate = (userId, token, orderId, status) => {\r\n    try {\r\n      const data = employeeUpdateOrderStatus(userId, token, orderId, status);\r\n      if (data.error) {\r\n        return console.log(data.error);\r\n      } else {\r\n        return setOrderUpdateActive(\"\");\r\n      }\r\n    } catch (error) {\r\n      return console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"orderUpdate-section\">\r\n      <div className=\"black-background\">\r\n        <div className=\"popup-small-sec\">\r\n          <div className=\"popup-group\">\r\n            <div className=\"popup-head-sec\">\r\n              <h1 className=\"popup-header orderUpdate-popup-header\">\r\n                Update Order Status\r\n              </h1>\r\n              <div\r\n                className=\"cross-sec\"\r\n                onClick={() => setOrderUpdateActive(null)}\r\n              >\r\n                <img src={Cross} alt=\"\" className=\"cross-img\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"popup-form\">\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Order ID</label>\r\n                  <p className=\"popup-form-value\">{order._id}</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <label className=\"popup-form-label\">Order Status</label>\r\n                  <select\r\n                    name=\"orderStatus\"\r\n                    id=\"orderStatus\"\r\n                    value={status}\r\n                    onChange={(e) => setStatus(e.target.value)}\r\n                    className=\"popup-form-value\"\r\n                  >\r\n                    {loadOptions(order.Ostatus)}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <button\r\n                className={`popup-form-btn ${\r\n                  status === order.Ostatus ? \"button-unclickable\" : \"\"\r\n                }`}\r\n                onClick={() => handleUpdate(user._id, token, order._id, status)}\r\n              >\r\n                Update\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default OrderUpdate;\r\n"]},"metadata":{},"sourceType":"module"}