{"ast":null,"code":"import { API } from '../backend';\nimport axios from 'axios';\nexport const login = async user => {\n  // try {\n  //     const response = await axios.post(`${API}/login`, user);\n  //     console.log(`index response : ${response}`);\n  //     console.log(`index response.data : ${response.data}`);\n  //     if(response.status === 400){\n  //        throw \"error found\"\n  //     }\n  //     else{\n  //         return response.data;  \n  //     }\n  // } catch (error) {\n  //     console.log(`error : ${error}`);\n  //     return error\n  // }\n  // await axios.post(`${API}/login`, user)\n  // .then((response) => {\n  //     console.log(`Response : ${response.data}`);\n  //     return response.data;\n  // })\n  // .catch((error) => {\n  //     console.log(`Error : ${error.response.data.message}`);\n  //     return error;\n  // })\n  fetch(`${API}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    console.log(response.json());\n    return response.json();\n  }).catch(error => {\n    console.log(error);\n    return error;\n  });\n};\nexport const authenticate = data => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/auth/index.js"],"names":["API","axios","login","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","console","log","json","catch","error","authenticate","data","window","localStorage","setItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,YAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,KAAK,GAAG,MAAOC,IAAP,IAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,EAAAA,KAAK,CAAE,GAAEJ,GAAI,QAAR,EAAiB;AACdK,IAAAA,MAAM,EAAE,MADM;AAEdC,IAAAA,OAAO,EAAE;AACL,sBAAiB,kBADZ;AAELC,MAAAA,MAAM,EAAG;AAFJ,KAFK;AAMdC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;AANQ,GAAjB,CAAL,CAQKQ,IARL,CAQWC,QAAD,IAAc;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,EAAZ;AACA,WAAOH,QAAQ,CAACG,IAAT,EAAP;AACH,GAXL,EAYKC,KAZL,CAYYC,KAAD,IAAW;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACA,WAAOA,KAAP;AACH,GAfL;AAiBH,CA3CM;AA6CP,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AAClC,MAAG,OAAOC,MAAP,KAAkB,WAArB,EAAiC;AAC7BC,IAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4Bb,IAAI,CAACC,SAAL,CAAeS,IAAf,CAA5B;AACH;AACJ,CAJM;AAMP,OAAO,MAAMI,eAAe,GAAG,MAAM;AACjC,MAAG,OAAOH,MAAP,IAAiB,WAApB,EAAgC;AAC5B,WAAO,KAAP;AACH;;AAED,MAAGC,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAH,EAA+B;AAC3B,WAAOf,IAAI,CAACgB,KAAL,CAAWJ,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAX,CAAP;AACH,GAFD,MAEK;AACD,WAAO,KAAP;AACH;AACJ,CAVM","sourcesContent":["import {API} from '../backend';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const login = async (user) => {\r\n    // try {\r\n    //     const response = await axios.post(`${API}/login`, user);\r\n    //     console.log(`index response : ${response}`);\r\n    //     console.log(`index response.data : ${response.data}`);\r\n    //     if(response.status === 400){\r\n    //        throw \"error found\"\r\n    //     }\r\n    //     else{\r\n    //         return response.data;  \r\n    //     }\r\n    // } catch (error) {\r\n    //     console.log(`error : ${error}`);\r\n    //     return error\r\n    // }\r\n\r\n    // await axios.post(`${API}/login`, user)\r\n    // .then((response) => {\r\n    //     console.log(`Response : ${response.data}`);\r\n    //     return response.data;\r\n    // })\r\n    // .catch((error) => {\r\n    //     console.log(`Error : ${error.response.data.message}`);\r\n    //     return error;\r\n    // })\r\n\r\n    fetch(`${API}/login`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\",\r\n                Accept : \"application/json\"\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then((response) => {\r\n            console.log(response.json())\r\n            return(response.json())\r\n        } )\r\n        .catch((error) => {\r\n            console.log(error);\r\n            return error\r\n        })\r\n\r\n}\r\n\r\nexport const authenticate = (data) => {\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false;\r\n    }\r\n\r\n    if(localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}