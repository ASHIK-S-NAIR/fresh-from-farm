{"ast":null,"code":"import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{API}from\"../backend\";export var signup=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var name,email,phoneNumber,password,address,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=_ref.name,email=_ref.email,phoneNumber=_ref.phoneNumber,password=_ref.password,address=_ref.address;_context.prev=1;_context.next=4;return fetch(\"\".concat(API,\"/signup\"),{method:\"POST\",body:JSON.stringify({name:name,email:email,phoneNumber:phoneNumber,password:password,address:address}),headers:{\"Content-Type\":\"application/json\"}});case 4:result=_context.sent;return _context.abrupt(\"return\",result.json());case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function signup(_x){return _ref2.apply(this,arguments);};}();export var login=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3){var email,password,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=_ref3.email,password=_ref3.password;_context2.prev=1;_context2.next=4;return fetch(\"\".concat(API,\"/login\"),{method:\"POST\",body:JSON.stringify({email:email,password:password}),headers:{\"Content-Type\":\"application/json\"}});case 4:result=_context2.sent;return _context2.abrupt(\"return\",result.json());case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function login(_x2){return _ref4.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(next){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;if(typeof window!==\"undefined\"){localStorage.removeItem(\"jwt\");}next();_context3.next=5;return fetch(\"\".concat(API,\"/logout\"),{method:\"GET\"});case 5:result=_context3.sent;return _context3.abrupt(\"return\",result);case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function logout(_x3){return _ref5.apply(this,arguments);};}();export var authenticate=function authenticate(data){if(typeof window!==\"undefined\"){localStorage.setItem(\"jwt\",JSON.stringify(data));}};export var isAuthenticated=function isAuthenticated(){if(typeof window==\"undefined\"){return false;}if(localStorage.getItem(\"jwt\")){return JSON.parse(localStorage.getItem(\"jwt\"));}else{return false;}};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/auth/index.js"],"names":["API","signup","name","email","phoneNumber","password","address","fetch","method","body","JSON","stringify","headers","result","json","console","log","login","logout","next","window","localStorage","removeItem","authenticate","data","setItem","isAuthenticated","getItem","parse"],"mappings":"4PAAA,OAASA,GAAT,KAAoB,YAApB,CAEA,MAAO,IAAMC,CAAAA,MAAM,2FAAG,0LAAQC,IAAR,MAAQA,IAAR,CAAcC,KAAd,MAAcA,KAAd,CAAqBC,WAArB,MAAqBA,WAArB,CAAkCC,QAAlC,MAAkCA,QAAlC,CAA4CC,OAA5C,MAA4CA,OAA5C,uCAEGC,CAAAA,KAAK,WAAIP,GAAJ,YAAkB,CAC1CQ,MAAM,CAAE,MADkC,CAE1CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACT,IAAI,CAAJA,IAAD,CAAOC,KAAK,CAALA,KAAP,CAAcC,WAAW,CAAXA,WAAd,CAA2BC,QAAQ,CAARA,QAA3B,CAAqCC,OAAO,CAAPA,OAArC,CAAf,CAFoC,CAG1CM,OAAO,CAAE,CACP,eAAgB,kBADT,CAHiC,CAAlB,CAFR,QAEZC,MAFY,+CAUXA,MAAM,CAACC,IAAP,EAVW,0DAYlBC,OAAO,CAACC,GAAR,cAZkB,oEAAH,kBAANf,CAAAA,MAAM,6CAAZ,CAgBP,MAAO,IAAMgB,CAAAA,KAAK,2FAAG,uKAASd,KAAT,OAASA,KAAT,CAAgBE,QAAhB,OAAgBA,QAAhB,yCAEIE,CAAAA,KAAK,WAAIP,GAAJ,WAAiB,CACzCQ,MAAM,CAAE,MADiC,CAEzCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAER,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CAAf,CAFmC,CAGzCO,OAAO,CAAE,CACP,eAAgB,kBADT,CAHgC,CAAjB,CAFT,QAEXC,MAFW,iDAUVA,MAAM,CAACC,IAAP,EAVU,6DAYjBC,OAAO,CAACC,GAAR,eAZiB,sEAAH,kBAALC,CAAAA,KAAK,8CAAX,CAgBP,MAAO,IAAMC,CAAAA,MAAM,2FAAG,kBAAOC,IAAP,kJAElB,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCC,YAAY,CAACC,UAAb,CAAwB,KAAxB,EACD,CACDH,IAAI,GALc,uBAOGZ,CAAAA,KAAK,WAAIP,GAAJ,YAAkB,CAC1CQ,MAAM,CAAE,KADkC,CAAlB,CAPR,QAOZK,MAPY,iDAWXA,MAXW,kLAAH,kBAANK,CAAAA,MAAM,8CAAZ,CAkBP,MAAO,IAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAU,CACpC,GAAI,MAAOJ,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CACjCC,YAAY,CAACI,OAAb,CAAqB,KAArB,CAA4Bf,IAAI,CAACC,SAAL,CAAea,IAAf,CAA5B,EACD,CACF,CAJM,CAMP,MAAO,IAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACnC,GAAI,MAAON,CAAAA,MAAP,EAAiB,WAArB,CAAkC,CAChC,MAAO,MAAP,CACD,CAED,GAAIC,YAAY,CAACM,OAAb,CAAqB,KAArB,CAAJ,CAAiC,CAC/B,MAAOjB,CAAAA,IAAI,CAACkB,KAAL,CAAWP,YAAY,CAACM,OAAb,CAAqB,KAArB,CAAX,CAAP,CACD,CAFD,IAEO,CACL,MAAO,MAAP,CACD,CACF,CAVM","sourcesContent":["import { API } from \"../backend\";\r\n\r\nexport const signup = async ({name, email, phoneNumber, password, address}) => {\r\n  try{\r\n    const result = await fetch(`${API}/signup`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({name, email, phoneNumber, password, address}),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n    \r\n    return result.json();\r\n  }catch(error){\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport const login = async ({ email, password }) => {\r\n  try {\r\n    const result = await fetch(`${API}/login`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, password }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return result.json();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const logout = async (next) => {\r\n  try {\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.removeItem(\"jwt\");\r\n    }\r\n    next();\r\n\r\n    const result = await fetch(`${API}/logout`, {\r\n      method: \"GET\",\r\n    });\r\n\r\n    return result;\r\n\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const authenticate = (data) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}