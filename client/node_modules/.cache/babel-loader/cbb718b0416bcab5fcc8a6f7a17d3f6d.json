{"ast":null,"code":"import { API } from '../backend';\nimport axios from 'axios'; // export const login = async (user) => {\n//     fetch(`${API}/login`, {\n//             method: \"POST\",\n//             headers: {\n//                 \"Content-Type\" : \"application/json\",\n//                 Accept : \"application/json\"\n//             },\n//             body: JSON.stringify(user)\n//         })\n//         .then((response) => {\n//             console.log(response.json())\n//             return(response.json())\n//         } )\n//         .catch((error) => {\n//             console.log(error);\n//             return error\n//         })\n// }\n\nexport const login = async user => {\n  const response = await fetch(`${API}/login`, {\n    method: \"POST\",\n    body: JSON.stringify(user),\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(data => {\n    console.log(data.json());\n    return data.json();\n  }).catch(err => {\n    console.log(err);\n    return err;\n  });\n};\nexport const authenticate = data => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/auth/index.js"],"names":["API","axios","login","user","response","fetch","method","body","JSON","stringify","headers","Accept","then","data","console","log","json","catch","err","authenticate","window","localStorage","setItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,YAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAMC,IAAN,IAAe;AAChC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEL,GAAI,QAAR,EAAiB;AACzCM,IAAAA,MAAM,EAAG,MADgC;AAEzCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFmC;AAGzCO,IAAAA,OAAO,EAAE;AACLC,MAAAA,MAAM,EAAE,kBADH;AAEL,sBAAgB;AAFX;AAHgC,GAAjB,CAAL,CAQtBC,IARsB,CAQjBC,IAAI,IAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,EAAZ;AACA,WAAOH,IAAI,CAACG,IAAL,EAAP;AACH,GAXsB,EAYtBC,KAZsB,CAYhBC,GAAG,IAAI;AACVJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACA,WAAOA,GAAP;AACH,GAfsB,CAAvB;AAgBH,CAjBM;AAmBP,OAAO,MAAMC,YAAY,GAAIN,IAAD,IAAU;AAClC,MAAG,OAAOO,MAAP,KAAkB,WAArB,EAAiC;AAC7BC,IAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4Bd,IAAI,CAACC,SAAL,CAAeI,IAAf,CAA5B;AACH;AACJ,CAJM;AAMP,OAAO,MAAMU,eAAe,GAAG,MAAM;AACjC,MAAG,OAAOH,MAAP,IAAiB,WAApB,EAAgC;AAC5B,WAAO,KAAP;AACH;;AAED,MAAGC,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAH,EAA+B;AAC3B,WAAOhB,IAAI,CAACiB,KAAL,CAAWJ,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAX,CAAP;AACH,GAFD,MAEK;AACD,WAAO,KAAP;AACH;AACJ,CAVM","sourcesContent":["import {API} from '../backend';\r\nimport axios from 'axios';\r\n\r\n\r\n// export const login = async (user) => {\r\n//     fetch(`${API}/login`, {\r\n//             method: \"POST\",\r\n//             headers: {\r\n//                 \"Content-Type\" : \"application/json\",\r\n//                 Accept : \"application/json\"\r\n//             },\r\n//             body: JSON.stringify(user)\r\n//         })\r\n//         .then((response) => {\r\n//             console.log(response.json())\r\n//             return(response.json())\r\n//         } )\r\n//         .catch((error) => {\r\n//             console.log(error);\r\n//             return error\r\n//         })\r\n// }\r\n\r\nexport const login = async(user) => {\r\n    const response = await fetch(`${API}/login`, {\r\n        method : \"POST\",\r\n        body: JSON.stringify(user),\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    })\r\n    .then(data => {\r\n        console.log(data.json())\r\n        return data.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n        return err;\r\n    })\r\n}\r\n\r\nexport const authenticate = (data) => {\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false;\r\n    }\r\n\r\n    if(localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}