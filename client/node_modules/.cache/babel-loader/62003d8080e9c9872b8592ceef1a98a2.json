{"ast":null,"code":"import { API } from '../backend'; // import axios from 'axios';\n\nexport const login = async user => {\n  // await fetch(`${API}/login`, {\n  //     method : \"POST\",\n  //     body: JSON.stringify(user),\n  //     headers: {\n  //         Accept: \"application/json\",\n  //         \"Content-Type\": \"application/json\"\n  //     }\n  // }).then((response) => {\n  //     console.log(response);\n  //     return response;\n  // })\n  // .catch((error) => {\n  //     console.log(error)\n  // })\n  const result = await fetch(`${API}/login`, {\n    method: \"POST\",\n    headers: {\n      // Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(res => {\n    console.log(\"Res.json()\" + JSON.stringify(res));\n    return res.json();\n  });\n};\nexport const authenticate = data => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/auth/index.js"],"names":["API","login","user","result","fetch","method","headers","body","JSON","stringify","then","res","console","log","json","authenticate","data","window","localStorage","setItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,YAAlB,C,CACA;;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAOC,IAAP,IAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAMC,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAEJ,GAAI,QAAR,EAAiB;AACvCK,IAAAA,MAAM,EAAE,MAD+B;AAEvCC,IAAAA,OAAO,EAAE;AACL;AACA,sBAAgB;AAFX,KAF8B;AAMvCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;AANiC,GAAjB,CAAL,CAQpBQ,IARoB,CAQdC,GAAG,IAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAeL,IAAI,CAACC,SAAL,CAAeE,GAAf,CAA3B;AACA,WAAOA,GAAG,CAACG,IAAJ,EAAP;AACH,GAXoB,CAArB;AAcH,CA9BM;AAgCP,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AAClC,MAAG,OAAOC,MAAP,KAAkB,WAArB,EAAiC;AAC7BC,IAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BX,IAAI,CAACC,SAAL,CAAeO,IAAf,CAA5B;AACH;AACJ,CAJM;AAMP,OAAO,MAAMI,eAAe,GAAG,MAAM;AACjC,MAAG,OAAOH,MAAP,IAAiB,WAApB,EAAgC;AAC5B,WAAO,KAAP;AACH;;AAED,MAAGC,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAH,EAA+B;AAC3B,WAAOb,IAAI,CAACc,KAAL,CAAWJ,YAAY,CAACG,OAAb,CAAqB,KAArB,CAAX,CAAP;AACH,GAFD,MAEK;AACD,WAAO,KAAP;AACH;AACJ,CAVM","sourcesContent":["import {API} from '../backend';\r\n// import axios from 'axios';\r\n\r\nexport const login = async (user) => {\r\n    // await fetch(`${API}/login`, {\r\n    //     method : \"POST\",\r\n    //     body: JSON.stringify(user),\r\n    //     headers: {\r\n    //         Accept: \"application/json\",\r\n    //         \"Content-Type\": \"application/json\"\r\n    //     }\r\n    // }).then((response) => {\r\n    //     console.log(response);\r\n    //     return response;\r\n    // })\r\n    // .catch((error) => {\r\n    //     console.log(error)\r\n    // })\r\n\r\n    const result = await fetch(`${API}/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            // Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then((res => {\r\n        console.log(\"Res.json()\" + JSON.stringify(res))\r\n        return res.json()\r\n    })\r\n    )\r\n\r\n}\r\n\r\nexport const authenticate = (data) => {\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false;\r\n    }\r\n\r\n    if(localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}