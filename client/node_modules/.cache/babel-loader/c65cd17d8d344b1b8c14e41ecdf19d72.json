{"ast":null,"code":"import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{isAuthenticated}from\"../auth\";import{deleteProduct}from\"../core/helper/productDetailHelper\";import CrossIcon from\"../icons/cross-black.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteProduct=function DeleteProduct(_ref){var setDeleteProductActive=_ref.setDeleteProductActive,product=_ref.product;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return deleteProduct(user._id,token,product._id);case 3:data=_context.sent;if(!data.error){_context.next=8;break;}return _context.abrupt(\"return\",console.log(data.error));case 8:return _context.abrupt(\"return\",setDeleteProductActive(null));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",console.log(_context.t0));case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"deleteProduct-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"black-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-small-sec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-head-sec\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"popup-header\",children:\"Delete Product\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cross-sec\",onClick:function onClick(){return setDeleteProductActive(null);},children:/*#__PURE__*/_jsx(\"img\",{src:CrossIcon,alt:\"\",className:\"cross-img\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"popup-form-p-light\",children:[\"This action \",/*#__PURE__*/_jsx(\"b\",{children:\"cannot\"}),\" be undone. This will permanently delete the \",/*#__PURE__*/_jsx(\"b\",{children:product.pName}),\" product from your database.\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"popup-form-p-light\",children:[\"Please type \",/*#__PURE__*/_jsx(\"b\",{children:product._id}),\"  to confirm.\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup-form-input\",value:value,onChange:function onChange(e){return setValue(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"popup-form-btn \".concat(product._id==value?\"\":\" button-unclickable\"),type:\"submit\",children:\"Delete Product\"})})})]})]})})})});};export default DeleteProduct;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/admin/DeleteProduct.js"],"names":["React","useState","isAuthenticated","deleteProduct","CrossIcon","DeleteProduct","setDeleteProductActive","product","value","setValue","user","token","onSubmit","_id","data","error","console","log","pName","e","target"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,SAAhC,CACA,OAASC,aAAT,KAA8B,oCAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAyC,IAAtCC,CAAAA,sBAAsC,MAAtCA,sBAAsC,CAAdC,OAAc,MAAdA,OAAc,CAC7D,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEA,qBAAwBP,eAAe,EAAvC,CAAQQ,IAAR,kBAAQA,IAAR,CAAcC,KAAd,kBAAcA,KAAd,CAEA,GAAMC,CAAAA,QAAQ,2FAAG,kLAEMT,CAAAA,aAAa,CAACO,IAAI,CAACG,GAAN,CAAWF,KAAX,CAAkBJ,OAAO,CAACM,GAA1B,CAFnB,QAEPC,IAFO,mBAGTA,IAAI,CAACC,KAHI,yDAIJC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,CAJI,yCAMJT,sBAAsB,CAAC,IAAD,CANlB,0HASNU,OAAO,CAACC,GAAR,aATM,uEAAH,kBAARL,CAAAA,QAAQ,2CAAd,CAYA,mBACE,gBAAS,SAAS,CAAC,uBAAnB,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,SAAS,CAAC,cAAd,4BADF,cAEE,YACE,SAAS,CAAC,WADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,sBAAsB,CAAC,IAAD,CAA5B,EAFX,uBAIE,YAAK,GAAG,CAAEF,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,SAAS,CAAC,WAAtC,EAJF,EAFF,GADF,cAUE,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAEQ,QAAvC,wBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAG,SAAS,CAAC,oBAAb,uCACc,6BADd,8DAEa,mBAAIL,OAAO,CAACW,KAAZ,EAFb,kCADF,EADF,EADF,cAUE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAG,SAAS,CAAC,oBAAb,uCACc,mBAAIX,OAAO,CAACM,GAAZ,EADd,mBADF,EADF,EAVF,cAiBE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,kBAFZ,CAGE,KAAK,CAAEL,KAHT,CAIE,QAAQ,CAAE,kBAACW,CAAD,QAAOV,CAAAA,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASZ,KAAV,CAAf,EAJZ,EADF,EADF,EAjBF,cA2BE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,eAAQ,SAAS,0BAAoBD,OAAO,CAACM,GAAR,EAAeL,KAAf,CAAuB,EAAvB,CAA2B,qBAA/C,CAAjB,CAA0F,IAAI,CAAC,QAA/F,4BADF,EADF,EA3BF,GAVF,GADF,EADF,EADF,EADF,CAsDD,CAvED,CAyEA,cAAeH,CAAAA,aAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { deleteProduct } from \"../core/helper/productDetailHelper\";\r\nimport CrossIcon from \"../icons/cross-black.svg\";\r\n\r\nconst DeleteProduct = ({ setDeleteProductActive, product }) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const onSubmit = async () => {\r\n    try {\r\n      const data = await deleteProduct(user._id, token, product._id);\r\n      if (data.error) {\r\n        return console.log(data.error);\r\n      } else {\r\n        return setDeleteProductActive(null);\r\n      }\r\n    } catch (error) {\r\n      return console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"deleteProduct-section\">\r\n      <div className=\"black-background\">\r\n        <div className=\"popup-small-sec\">\r\n          <div className=\"popup-group\">\r\n            <div className=\"popup-head-sec\">\r\n              <h1 className=\"popup-header\">Delete Product</h1>\r\n              <div\r\n                className=\"cross-sec\"\r\n                onClick={() => setDeleteProductActive(null)}\r\n              >\r\n                <img src={CrossIcon} alt=\"\" className=\"cross-img\" />\r\n              </div>\r\n            </div>\r\n            <form className=\"popup-form\" onSubmit={onSubmit}>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <p className=\"popup-form-p-light\">\r\n                    This action <b>cannot</b> be undone. This will permanently\r\n                    delete the <b>{product.pName}</b> product from your\r\n                    database.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <p className=\"popup-form-p-light\">\r\n                    Please type <b>{product._id}</b>  to confirm.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"popup-form-input\"\r\n                    value={value}\r\n                    onChange={(e) => setValue(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <button className={`popup-form-btn ${product._id == value ? \"\" :\" button-unclickable\" }`} type=\"submit\">\r\n                    Delete Product\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default DeleteProduct;\r\n"]},"metadata":{},"sourceType":"module"}