{"ast":null,"code":"import { isAuthenticated } from \"../../auth\";\nimport { ActionTypes } from \"../constants/action-types\";\nimport { API } from \"../../backend\";\nconst {\n  user,\n  token\n} = isAuthenticated();\nconsole.log(\"user\", user);\nexport const fetchCart = () => async dispatch => {\n  const response = await fetch(`${API}/user/cart/${user._id}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(res => res.json());\n  console.log(\"cartAction\", response.cart);\n  dispatch({\n    type: ActionTypes.FETCH_CART,\n    payload: response.cart\n  });\n};\nexport const deleteFromCart = id => async dispatch => {\n  try {\n    const result = fetch(`${API}/user/deletecart/${user._id}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        id\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/Redux/actions/cartActions.js"],"names":["isAuthenticated","ActionTypes","API","user","token","console","log","fetchCart","dispatch","response","fetch","_id","method","headers","Accept","Authorization","then","res","json","cart","type","FETCH_CART","payload","deleteFromCart","id","result","body","JSON","stringify","error"],"mappings":"AAAA,SAASA,eAAT,QAAgC,YAAhC;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,MAAM;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,IAAkBJ,eAAe,EAAvC;AACAK,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;AAEA,OAAO,MAAMI,SAAS,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACjD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,GAAI,cAAaC,IAAI,CAACQ,GAAI,EAA9B,EAAiC;AAC3DC,IAAAA,MAAM,EAAE,KADmD;AAE3DC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,kBADD;AAEPC,MAAAA,aAAa,EAAG,UAASX,KAAM;AAFxB;AAFkD,GAAjC,CAAL,CAMpBY,IANoB,CAMdC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANM,CAAvB;AAQAb,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BG,QAAQ,CAACU,IAAnC;AAEAX,EAAAA,QAAQ,CAAC;AAAEY,IAAAA,IAAI,EAAEnB,WAAW,CAACoB,UAApB;AAAgCC,IAAAA,OAAO,EAAEb,QAAQ,CAACU;AAAlD,GAAD,CAAR;AACD,CAZM;AAcP,OAAO,MAAMI,cAAc,GAAIC,EAAD,IAAQ,MAAOhB,QAAP,IAAoB;AACxD,MAAI;AACF,UAAMiB,MAAM,GAAGf,KAAK,CAAE,GAAER,GAAI,oBAAmBC,IAAI,CAACQ,GAAI,EAApC,EAAuC;AACzDC,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,MAAM,EAAE,kBAFD;AAGPC,QAAAA,aAAa,EAAG,UAASX,KAAM;AAHxB,OAFgD;AAOzDsB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEJ,QAAAA;AAAF,OAAf;AAPmD,KAAvC,CAAL,CAQZR,IARY,CAQNC,GAAD,IAASA,GAAG,CAACC,IAAJ,EARF,CAAf;AAUA,WAAOO,MAAP;AACD,GAZD,CAYE,OAAOI,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAhBM","sourcesContent":["import { isAuthenticated } from \"../../auth\";\r\nimport { ActionTypes } from \"../constants/action-types\";\r\nimport { API } from \"../../backend\";\r\nconst { user, token } = isAuthenticated();\r\nconsole.log(\"user\", user);\r\n\r\nexport const fetchCart = () => async (dispatch) => {\r\n  const response = await fetch(`${API}/user/cart/${user._id}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => res.json());\r\n\r\n  console.log(\"cartAction\", response.cart);\r\n\r\n  dispatch({ type: ActionTypes.FETCH_CART, payload: response.cart });\r\n};\r\n\r\nexport const deleteFromCart = (id) => async (dispatch) => {\r\n  try {\r\n    const result = fetch(`${API}/user/deletecart/${user._id}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ id }),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}