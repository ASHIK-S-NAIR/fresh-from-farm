{"ast":null,"code":"import { API } from \"../backend\";\nexport const getUser = async (userId, token) => {\n  try {\n    const result = await fetch(`${API}/user/${userId}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const updateUser = async (body, userId, token) => {\n  try {\n    const result = await fetch(`${API}/user/${userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const changePassword = async (userId, token, body) => {\n  // console.log(\"index oldPassword : \" ,oldPassword);\n  // console.log(\"index newPassword : \" ,newPassword);\n  try {\n    const result = await fetch(`${API}/user/password/${userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify(body)\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const getUserCart = async (userId, token) => {\n  try {\n    const result = await fetch(`${API}/user/cart/${userId}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => res.json()); // console.log(\"result: \", result);\n\n    return result;\n  } catch (error) {\n    return error;\n  }\n}; // export const updateQuantity = async(userId, token, productId, quantity) => {\n//   try {\n//       const result = await fetch(`${API}/user/cart/${userId}`, {\n//         method: \"PUT\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//           Accept: \"application/json\",\n//           Authorization: `Bearer ${token}`\n//         },\n//         body: JSON.stringify({productId, quantity})\n//       })\n//   } catch (error) {\n//     console.log(error);\n//   }\n// }\n\nexport const addToUserCart = (userId, token, _ref) => {\n  let {\n    productId,\n    quantity\n  } = _ref;\n\n  try {\n    const result = fetch(`${API}/user/addtocart/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        productId,\n        quantity\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const updateFromUserCart = (userId, token, _ref2) => {\n  let {\n    productId,\n    quantity\n  } = _ref2;\n\n  try {\n    const result = fetch(`${API}/user/updatecart/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        productId,\n        quantity\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\nexport const deleteFromCart = (userId, token, productId) => {\n  try {\n    const result = fetch(`${API}/user/deletecart/${userId}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        productId\n      })\n    }).then(res => res.json());\n    return result;\n  } catch (error) {\n    return error;\n  }\n};","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/user/index.js"],"names":["API","getUser","userId","token","result","fetch","method","headers","Accept","Authorization","then","res","json","error","console","log","updateUser","body","JSON","stringify","changePassword","getUserCart","addToUserCart","productId","quantity","updateFromUserCart","deleteFromCart"],"mappings":"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","sourcesContent":["import { API } from \"../backend\";\r\n\r\nexport const getUser = async (userId, token) => {\r\n  try {\r\n    const result = await fetch(`${API}/user/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateUser = async (body, userId, token) => {\r\n  try {\r\n    const result = await fetch(`${API}/user/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const changePassword = async (userId, token, body) => {\r\n  // console.log(\"index oldPassword : \" ,oldPassword);\r\n  // console.log(\"index newPassword : \" ,newPassword);\r\n  try {\r\n    const result = await fetch(`${API}/user/password/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const getUserCart = async (userId, token) => {\r\n  try {\r\n    const result = await fetch(`${API}/user/cart/${userId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }).then((res) => res.json());\r\n    // console.log(\"result: \", result);\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\n// export const updateQuantity = async(userId, token, productId, quantity) => {\r\n//   try {\r\n//       const result = await fetch(`${API}/user/cart/${userId}`, {\r\n//         method: \"PUT\",\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//           Accept: \"application/json\",\r\n//           Authorization: `Bearer ${token}`\r\n//         },\r\n//         body: JSON.stringify({productId, quantity})\r\n//       })\r\n//   } catch (error) {\r\n//     console.log(error);\r\n//   }\r\n// }\r\n\r\nexport const addToUserCart = (userId, token, { productId, quantity }) => {\r\n  try {\r\n    const result = fetch(`${API}/user/addtocart/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ productId, quantity }),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const updateFromUserCart = (userId, token, { productId, quantity }) => {\r\n  try {\r\n    const result = fetch(`${API}/user/updatecart/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ productId, quantity }),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n      return error;\r\n  }\r\n};\r\n\r\nexport const deleteFromCart = (userId, token, productId) => {\r\n  try {\r\n    const result = fetch(`${API}/user/deletecart/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ productId}),\r\n    }).then((res) => res.json());\r\n\r\n    return result;\r\n  } catch (error) {\r\n      return error;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}