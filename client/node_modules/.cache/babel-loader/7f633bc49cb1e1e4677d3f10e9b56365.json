{"ast":null,"code":"import _asyncToGenerator from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/mern/projects/greenbeans/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mern\\\\projects\\\\greenbeans\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{isAuthenticated}from\"../auth\";import CrossIcon from\"../icons/cross-black.svg\";import{deleteEmployee}from\"../user\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteEmployee=function DeleteEmployee(_ref){var setDeleteEmployeeActive=_ref.setDeleteEmployeeActive,employee=_ref.employee;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return deleteEmployee(user._id,token,employee._id);case 3:data=_context.sent;if(!data.error){_context.next=8;break;}return _context.abrupt(\"return\",console.log(data.error));case 8:return _context.abrupt(\"return\",setDeleteEmployeeActive(null));case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",console.log(_context.t0));case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"deleteEmployee-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"black-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-small-sec\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-head-sec\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"popup-header\",children:\"Delete Employee\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cross-sec\",onClick:function onClick(){return setDeleteEmployeeActive(null);},children:/*#__PURE__*/_jsx(\"img\",{src:CrossIcon,alt:\"\",className:\"cross-img\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"popup-form-p-light\",children:[\"This action \",/*#__PURE__*/_jsx(\"b\",{children:\"cannot\"}),\" be undone. This will permanently delete the \",/*#__PURE__*/_jsx(\"b\",{children:employee.Euser.name}),\" Employee from your database.\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"popup-form-p-light\",children:[\"Please type \",/*#__PURE__*/_jsx(\"b\",{children:employee._id}),\" to confirm.\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup-form-input\",value:value,onChange:function onChange(e){return setValue(e.target.value);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-single-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"popup-form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"popup-form-btn \".concat(employee._id==value?\"\":\" button-unclickable\"),type:\"submit\",children:\"Delete Employee\"})})})]})]})})})});};export default DeleteEmployee;","map":{"version":3,"sources":["F:/mern/projects/greenbeans/client/src/admin/DeleteEmployee.js"],"names":["React","useState","isAuthenticated","CrossIcon","deleteEmployee","DeleteEmployee","setDeleteEmployeeActive","employee","value","setValue","user","token","onSubmit","_id","data","error","console","log","Euser","name","e","target"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,SAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,OAASC,cAAT,KAA+B,SAA/B,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAA0C,IAAvCC,CAAAA,uBAAuC,MAAvCA,uBAAuC,CAAdC,QAAc,MAAdA,QAAc,CAC/D,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEA,qBAAwBP,eAAe,EAAvC,CAAQQ,IAAR,kBAAQA,IAAR,CAAcC,KAAd,kBAAcA,KAAd,CAEA,GAAMC,CAAAA,QAAQ,2FAAG,kLAEMR,CAAAA,cAAc,CAACM,IAAI,CAACG,GAAN,CAAWF,KAAX,CAAkBJ,QAAQ,CAACM,GAA3B,CAFpB,QAEPC,IAFO,mBAGTA,IAAI,CAACC,KAHI,yDAIJC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,CAJI,yCAMJT,uBAAuB,CAAC,IAAD,CANnB,0HASNU,OAAO,CAACC,GAAR,aATM,uEAAH,kBAARL,CAAAA,QAAQ,2CAAd,CAYA,mBACE,gBAAS,SAAS,CAAC,wBAAnB,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,SAAS,CAAC,cAAd,6BADF,cAEE,YACE,SAAS,CAAC,WADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,uBAAuB,CAAC,IAAD,CAA7B,EAFX,uBAIE,YAAK,GAAG,CAAEH,SAAV,CAAqB,GAAG,CAAC,EAAzB,CAA4B,SAAS,CAAC,WAAtC,EAJF,EAFF,GADF,cAUE,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAES,QAAvC,wBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAG,SAAS,CAAC,oBAAb,uCACc,6BADd,8DAEa,mBAAIL,QAAQ,CAACW,KAAT,CAAeC,IAAnB,EAFb,mCADF,EADF,EADF,cAUE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAG,SAAS,CAAC,oBAAb,uCACc,mBAAIZ,QAAQ,CAACM,GAAb,EADd,kBADF,EADF,EAVF,cAiBE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,kBAFZ,CAGE,KAAK,CAAEL,KAHT,CAIE,QAAQ,CAAE,kBAACY,CAAD,QAAOX,CAAAA,QAAQ,CAACW,CAAC,CAACC,MAAF,CAASb,KAAV,CAAf,EAJZ,EADF,EADF,EAjBF,cA2BE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,eAAQ,SAAS,0BAAoBD,QAAQ,CAACM,GAAT,EAAgBL,KAAhB,CAAwB,EAAxB,CAA4B,qBAAhD,CAAjB,CAA2F,IAAI,CAAC,QAAhG,6BADF,EADF,EA3BF,GAVF,GADF,EADF,EADF,EADF,CAsDD,CAvED,CAyEA,cAAeH,CAAAA,cAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport CrossIcon from \"../icons/cross-black.svg\";\r\nimport { deleteEmployee } from \"../user\";\r\n\r\nconst DeleteEmployee = ({ setDeleteEmployeeActive, employee}) => {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const onSubmit = async () => {\r\n    try {\r\n      const data = await deleteEmployee(user._id, token, employee._id)\r\n      if (data.error) {\r\n        return console.log(data.error);\r\n      } else {\r\n        return setDeleteEmployeeActive(null);\r\n      }\r\n    } catch (error) {\r\n      return console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <section className=\"deleteEmployee-section\">\r\n      <div className=\"black-background\">\r\n        <div className=\"popup-small-sec\">\r\n          <div className=\"popup-group\">\r\n            <div className=\"popup-head-sec\">\r\n              <h1 className=\"popup-header\">Delete Employee</h1>\r\n              <div\r\n                className=\"cross-sec\"\r\n                onClick={() => setDeleteEmployeeActive(null)}\r\n              >\r\n                <img src={CrossIcon} alt=\"\" className=\"cross-img\" />\r\n              </div>\r\n            </div>\r\n            <form className=\"popup-form\" onSubmit={onSubmit}>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <p className=\"popup-form-p-light\">\r\n                    This action <b>cannot</b> be undone. This will permanently\r\n                    delete the <b>{employee.Euser.name}</b> Employee from your\r\n                    database.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <p className=\"popup-form-p-light\">\r\n                    Please type <b>{employee._id}</b> to confirm.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"popup-form-input\"\r\n                    value={value}\r\n                    onChange={(e) => setValue(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"popup-form-single-group\">\r\n                <div className=\"popup-form-group\">\r\n                  <button className={`popup-form-btn ${employee._id == value ? \"\" :\" button-unclickable\" }`} type=\"submit\">\r\n                    Delete Employee\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default DeleteEmployee;\r\n"]},"metadata":{},"sourceType":"module"}